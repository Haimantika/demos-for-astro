---
import HeaderLink from "./HeaderLink.astro";
---

<script>
  // Check if user has session
  import { isLoggedIn } from "../lib/appwrite";

  const loginElem: HTMLElement | null = document.querySelector("#login");
  const accountElem: HTMLElement | null = document.querySelector("#account");

  isLoggedIn.subscribe((user) => {
    if (!accountElem || !loginElem) return;
    if (user) {
      loginElem.style.display = "none";
      accountElem.style.display = "block";
    } else {
      loginElem.style.display = "block";
      accountElem.style.display = "none";
    }
  });
</script>

<div style="display:flex">
  <HeaderLink id="login" href="/account/login">Login</HeaderLink>
  <HeaderLink style="display:none" id="account" href="/account">
    Account
  </HeaderLink>
</div>
